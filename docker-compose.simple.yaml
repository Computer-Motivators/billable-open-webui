services:
  open-webui:
    build:
      context: .
      dockerfile: Dockerfile
      args:
        BUILD_HASH: ${BUILD_HASH:-test-build-$(date +%Y%m%d)}
        USE_SLIM: ${USE_SLIM:-false}
    image: billable-open-webui:latest
    container_name: billable-open-webui
    ports:
      - "${OPEN_WEBUI_PORT:-3001}:8080"
    environment:
      OPENAI_API_KEY: ${OPENAI_API_KEY}
    volumes:
      - open-webui:/app/backend/data
    restart: unless-stopped

volumes:
  open-webui: